<!DOCTYPE html>
<html>
    <head>
        <title>Class 2 | Advanced GIS</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />

        <link href='https://fonts.googleapis.com/css?family=Arvo|Alegreya Sans' rel='stylesheet' type='text/css'>

        <link href="../css/pig.css" rel="stylesheet" type="text/css" />
        <link href="../css/base.css" rel="stylesheet" />

        <script src="../js/pig.js"></script>
    </head>
    <body>

        <div class="slide">
            <p>Welcome to Advanced GIS, Lecture 2</p>
            <p>This is a web page that can be viewed as slides.</p>
            <p>→ to move forward</p>
            <p>← to go back</p>
        </div>

        <div class="slide">
            <h1>Advanced GIS</h1>
        </div>

        <div class="slide intermission"></div>

        <div class="slide" style="background-image: url(img/assignment-joy.png);">
            <a class="source" href="https://gist.github.com/anonymous/d7e6bf128e38068505f4e0ad8fa21883">Joy</a>
        </div>

        <div class="slide" style="background-image: url(img/assignment-christina.png);">
            <a class="source" href="https://gist.github.com/anonymous/a4b5ad46541dfad1d3d67e71c63b8867">Christina</a>
        </div>

        <div class="slide" style="background-image: url(img/assignment-ashley.png);">
            <a class="source" href="https://thenewschool.carto.com/u/moora060/builder/b47b93ce-e8fb-11e6-ad72-0e3ebc282e83/embed">Ashley</a>
        </div>

        <div class="slide" style="background-image: url(img/assignment-jakob.png);">
            <a class="source" href="https://thenewschool.carto.com/u/winkj601/builder/caab966c-e8c9-11e6-9e2b-0ee66e2c9693/embed">Jakob</a>
        </div>

        <div class="slide intermission"></div>

        <div class="slide">
            <h2>Next week: final project thoughts</h2>
        </div>

        <div class="slide">
            <h2>tell me about:</h2>
        </div>

        <div class="slide">
            <h2>Something you would like to work on as your final project.</h2>
        </div>

        <div class="slide">
            <h2>Past work you're excited about that might be a good interactive map.</h2>
        </div>

        <div class="slide">
            <h2>Projects that you might like to emulate.</h2>
        </div>

        <div class="slide">
            <h2>Thoughts about the geoweb—what inspires you about online maps?</h2>
        </div>

        <div class="slide">
            <h2>Map-related skills that you would like to acquire.</h2>
        </div>

        <div class="slide">
            <h2>We will go around the room and talk about these briefly next week.</h2>
        </div>

        <div class="slide intermission"></div>

        <div class="slide">
            <h2>CARTO</h2>
        </div>

        <div class="slide" style="background-image: url(img/carto.png);">
            <a class="source" href="https://carto.com/">source</a>
        </div>

        <div class="slide" style="background-image: url(img/cartodb-project.png);">
            <a class="source" href="https://github.com/CartoDB/cartodb">github.com/CartoDB/cartodb</a>
        </div>

        <div class="slide" style="background-image: url(img/carto-pricing.png);">
        </div>

        <div class="slide">
            <h2>Who uses CARTO?</h2>
        </div>

        <div class="slide" style="background-image: url(img/carto-amnh.png);">
            <a class="source" style="margin-right: 400px;" href="https://carto.com/blog/mapping-solomon-islands">Mapping the Historical Biodiversity of the Solomon Islands...</a>
        </div>

        <div class="slide" style="background-image: url(img/carto-making-neighborhoods.png);">
            <a class="source" style="margin-right: 400px;" href="http://www.chpcny.org/makingneighborhoodsregional/#">Making Neighborhoods</a>
        </div>

        <div class="slide" style="background-image: url(img/carto-toxicity-map.png);">
            <a class="source" style="margin-right: 400px;" href="http://nag-brooklyn.org/toxicity-map/">The ToxiCity Map</a>
        </div>

        <div class="slide" style="background-image: url(img/cartodb-journalism.png);">
            <a class="source" href="http://www.theguardian.com/news/datablog/ng-interactive/2014/may/07/sunrise-twitter-animated-map">
                source
            </a>
        </div>

        <div class="slide" style="background-image: url(img/cartodb_researchers.png);">
            <a class="source" href="http://vr00n.cartodb.com/viz/71ce78ca-7049-11e4-92e6-0e4fddd5de28/public_map">
                source
            </a>
        </div>

        <div class="slide" style="background-image: url(img/cartodb_ngos.png);">
            <a class="source" href="http://auremoser.github.io/VitalSigns-water/">
                source
            </a>
        </div>

        <div class="slide" style="background-image: url(img/curb-your-litter.png);">
            <a class="source" href="http://map.curbyourlitter.org/">
                source
            </a>
        </div>

        <div class="slide">
            <h2>datasets</h2>
            <p>where you <strong>import</strong>, <strong>edit</strong>, and <strong>analyze</strong> your data</p>
        </div>

        <div class="slide" style="background-image: url(img/carto-datasets.png);">
        </div>

        <div class="slide" style="background-image: url(img/carto-new-dataset.png);">
        </div>

        <div class="slide">
            <p>you can upload:</p>
            <ul style="margin-left: 100px;">
                <li>csv</li>
                <li>shapefiles (<strong>zipped</strong>)</li>
                <li>kml</li>
                <li>geojson</li>
                <li>(and some others)</li>
            </ul>
        </div>

        <div class="slide">
            <h2>maps</h2>
            <p>where you make <strong>public map views</strong> of your datasets</p>
        </div>

        <div class="slide" style="background-image: url(img/carto-maps.png);">
        </div>

        <div class="slide" style="background-image: url(img/carto-styles.png);">
        </div>

        <div class="slide" style="background-image: url(img/carto-legend.png);">
        </div>

        <div class="slide" style="background-image: url(img/carto-widget.png);">
        </div>

        <div class="slide" style="background-image: url(img/carto-share-button.png);">
        </div>

        <div class="slide" style="background-image: url(img/carto-share.png);">
        </div>

        <div class="slide intermission"></div>

        <div class="slide">
            <h2>CartoCSS</h2>
        </div>

        <div class="slide" style="background-image: url(img/carto-github.png);">
            <a class="source" href="https://github.com/mapbox/carto">(open source)</a>
        </div>

        <div class="slide" style="background-image: url(img/osm.png);">
        </div>

        <div class="slide" style="background-image: url(img/mapnik.png);">
        </div>

        <div class="slide">
            <h2>why?</h2>
        </div>

        <div class="slide" style="background-image: url(img/mapnik-xml.png);">
            <h2>styling maps can be painful</h2>
        </div>

        <div class="slide" style="background-image: url(img/qgis-styling.png);">
        </div>

        <div class="slide">
            <h2>you can share it</h2>
        </div>

        <div class="slide">
            <h2>you can share it</h2>
            <p>(it's just text)</p>
        </div>

        <div class="slide" style="background-image: url(img/cartocss-osm.png);">
            <a class="source" href="https://github.com/gravitystorm/openstreetmap-carto">
                source
            </a>
        </div>

        <div class="slide" style="background-image: url(img/cartocss-osm-detail.png);">
        </div>

        <div class="slide">
            <h2>CartoCSS</h2>
        </div>

        <div class="slide">
            <h2>CartoCSS</h2>
            <p>Looks similar to but is otherwise completely separate from <em>CSS</em>.</p>
        </div>

        <div class="slide">
            <h2>CartoCSS</h2>
            <p>Looks similar to but is otherwise completely separate from <em>CSS</em>.</p>
            <p>CSS adds style (line thickness, color) to webpages, CartoCSS does the same for maps.</p>
        </div>

        <div class="slide" style="background-image: url(img/dashboard-car.jpg);">
            <a class="source" href="http://www.flickr.com/photos/mrstaticvoid/4307191115/">
                mrstaticvoid on flickr
            </a>
        </div>

        <div class="slide" style="background-image: url(img/dashboard-airplane.jpg);">
            <a class="source" href="http://www.flickr.com/photos/niklasstjerna/6636973889/">
                niklasstjerna on flickr
            </a>
        </div>

        <div class="slide" style="background-image: url(img/dashboard-airplane-markers.jpg);">
        </div>

        <div class="slide" style="background-image: url(img/dashboard-airplane-polygons.jpg);">
        </div>

        <div class="slide" style="background-image: url(img/dashboard-airplane-lines.jpg);">
        </div>

        <div class="slide" style="background-image: url(img/dashboard-airplane-qqq.jpg);">
        </div>

        <div class="slide">
            <pre><code>#earthquakes {
    marker-fill: #ff307a;
    marker-line-color: #FFF;
    marker-line-width: 0.25;
    marker-line-opacity: 0.4;
    marker-width: 2;
    marker-allow-overlap: true;
}</code></pre>
        </div>

        <div class="slide">
            <h2>this is a <strong>statement</strong></h2>
        </div>

        <div class="slide">
            <h2>this is a <strong>statement</strong></h2>
            <pre style="font-size: 44px; line-height: 44px;"><code>#earthquakes {
    marker-fill: #ff307a;
    marker-line-color: #FFF;
    marker-line-width: 0.25;
    marker-line-opacity: 0.4;
    marker-width: 2;
    marker-allow-overlap: true;
}</code></pre>
        </div>

        <div class="slide">
            <h2>statements start with a <em>selector</em></h2>
        </div>

        <div class="slide">
            <h2>statements start with a <em>selector</em></h2>
            <pre><code>#earthquakes</code></pre>
        </div>

        <div class="slide">
            <h2>statements start with a <em>selector</em></h2>
            <pre><code>#earthquakes</code></pre>
            <p>"this statement will talk about the layer called <strong>earthquakes</strong>"</p>
        </div>

        <div class="slide">
            <h2>always put a <em>{</em> after the selector</h2>
        </div>

        <div class="slide">
            <h2>always put a <em>{</em> after the selector</h2>
            <pre><code>#earthquakes {</code></pre>
        </div>

        <div class="slide">
            <h2>and always always remember to close it with <em>}</em></h2>
        </div>

        <div class="slide">
            <h2>and always always remember to close it with <em>}</em></h2>
            <pre><code>#earthquakes {
}</code></pre>
        </div>

        <div class="slide">
            <h2>and always always remember to close it with <em>}</em></h2>
            <pre><code>#earthquakes {
}</code></pre>
            <p>otherwise your statement will never end!</p>
        </div>

        <div class="slide">
            <h2>between <em>{</em> <em>}</em>, set your properties</h2>
        </div>

        <div class="slide" style="background-image: url(img/curly-brace-bookends.jpg);">
            <h2>think of the <em>{</em> <em>}</em> as bookends</h2>
            <a class="source" href="https://www.etsy.com/listing/121433089/unique-metal-bookends-brackets-black">source</a>
        </div>

        <div class="slide" style="background-image: url(img/books-falling-off-shelves.gif);">
            <a class="source" href="http://imgur.com/gallery/WHebU">source</a>
        </div>

        <div class="slide">
            <h2>what is a <em>property</em>?</h2>
        </div>

        <div class="slide" style="background-image: url(img/carto-documentation.png);">
            <h2>they're defined in the <a href="https://carto.com/docs/carto-engine/cartocss/">documentation</a> for CartoCSS</h2>
        </div>

        <div class="slide">
            <pre><code>#earthquakes {
    marker-fill: #ff307a;
}</code></pre>
        </div>

        <div class="slide">
            <pre><code>#earthquakes {
    marker-fill: #ff307a;
}</code></pre>
            <p>always one per line, each line ending with a <strong>;</strong></p>
        </div>

        <div class="slide">
            <pre><code>#earthquakes {
    marker-fill: #ff307a;
    marker-line-color: #FFF;
}</code></pre>
        </div>

        <div class="slide">
            <pre><code>#earthquakes {
    marker-fill: #ff307a;
    marker-line-color: #FFF;
}</code></pre>
            <h2>the property name and the value you're setting it to are separated by a <em>:</em></h2>
        </div>

        <div class="slide">
            <h2>property values will often be <em>color strings</em>, <em>numbers</em>, or <em>true/false</em></h2>
        </div>

        <div class="slide" style="background-image: url(img/carto-documentation.png);">
            <h2>check the <a href="https://carto.com/docs/carto-engine/cartocss/">documentation</a> if you have any doubts</h2>
        </div>

        <div class="slide">
            <pre><code>#earthquakes {
    marker-fill: #ff307a;
    marker-line-color: #FFF;
    marker-line-width: 0.25;
    marker-line-opacity: 0.4;
    marker-width: 2;
    marker-allow-overlap: true;
}</code></pre>
        </div>

        <div class="slide intermission"></div>

        <div class="slide">
            <h2><a href="inclass.html" target="_blank">in-class exercise, part 1</a></h2>
        </div>

        <div class="slide intermission"></div>

        <div class="slide">
            <h2>that's nice, but it gets more interesting</h2>
        </div>

        <div class="slide">
            <h2>let's vary some properties by <em>zoom level</em></h2>
        </div>

        <div class="slide">
            <pre><code>#earthquakes {
    marker-width: 3;

    [zoom &gt;= 10] {
        marker-width: 8;
    }
}</code></pre>
        </div>

        <div class="slide">
            <h2>let's call these <em>conditional statements</em></h2>
        </div>

        <div class="slide">
            <h2><em>conditional statements</em> are only used if some condition is met</h2>
        </div>

        <div class="slide">
            <pre style="font-size: 40px; line-height: 50px;"><code>#earthquakes {
    marker-width: 3;

    [zoom &gt;= 10] {
        marker-width: 8;
    }
}</code></pre>
            <p>"make the earthquakes markers 3 pixels wide. if the map is at zoom level 10 or higher, make the earthquakes markers 8 pixels wide."</p>
        </div>

        <div class="slide">
            <pre style="font-size: 50px; line-height: 60px;"><code>#earthquakes {
    marker-width: 3;

    [zoom &gt;= 10] {
        marker-width: 8;
    }
    [zoom &gt;= 16] {
        marker-width: 13;
    }
}</code></pre>
        </div>

        <div class="slide intermission"></div>

        <div class="slide">
            <h2><a href="inclass.html" target="_blank">in-class exercise, part 2</a></h2>
        </div>

        <div class="slide intermission"></div>

        <div class="slide">
            <h2>that's not all!</h2>
        </div>

        <div class="slide">
            <h2>you can change styles based on a feature's attributes</h2>
        </div>

        <div class="slide" style="background-image: url(img/earthquakes-mag.png);">
        </div>

        <div class="slide">
            <pre><code>#earthquakes {
    marker-width: 3;

    [mag &gt;= 5.5] {
        marker-width: 8;
    }
}</code></pre>
        </div>

        <div class="slide">
            <h2>look familiar?</h2>
        </div>

        <div class="slide">
            <h2>conditional statements on text need to wrap those strings in quotation marks</h2>
        </div>

        <div class="slide">
            <pre style="font-size: 50px; line-height: 70px;"><code>#earthquakes {
    marker-width: 3;

    [locationsource = 'pr'] {
        marker-width: 8;
    }
}</code></pre>
        </div>

        <div class="slide intermission"></div>

        <div class="slide">
            <h2><a href="inclass.html" target="_blank">in-class exercise, part 3</a></h2>
        </div>

        <div class="slide intermission"></div>

        <div class="slide">
            <h2>you don't have to memorize all of this</h2>
        </div>

        <div class="slide" style="background-image: url(img/cartocss-reference.png);">
            <a class="source" href="materials/cartocss-reference.pdf">cartocss reference</a>
        </div>

        <div class="slide" style="background-image: url(img/carto-documentation.png);">
            <h2>use the <a href="https://carto.com/docs/carto-engine/cartocss/">documentation</a></h2>
        </div>

        <div class="slide">
            <h2>experiment with CARTO's built-in styles, see the code they produce</h2>
        </div>

        <div class="slide">
            <h2>read other people's CartoCSS</h2>
        </div>

        <div class="slide" style="background-image: url(img/cartocss-hdm.png);">
            <a class="source" href="https://github.com/hotosm/hdm-cartocss">
                source
            </a>
        </div>

        <div class="slide" style="background-image: url(img/toner-github.png);">
            <a class="source" href="https://github.com/stamen/toner-carto/">
                source
            </a>
        </div>

        <div class="slide intermission"></div>

        <div class="slide">
            <h2>combine conditions with <em>,</em> to set properties with <em>either</em> condition</h2>
        </div>

        <div class="slide">
            <pre style="font-size: 50px; line-height: 70px;"><code>#earthquakes {
    marker-width: 3;

    [mag &gt; 5.5],
    [locationsource = 'pr'] {
        marker-width: 8;
    }
}</code></pre>
        </div>

        <div class="slide">
            <p style="padding: 0;">shortcut for:</p>
            <pre style="font-size: 50px; line-height: 70px;"><code>#earthquakes {
    marker-width: 3;

    [mag &gt; 5.5] {
        marker-width: 8;
    }
    [locationsource = 'pr'] {
        marker-width: 8;
    }
}</code></pre>
        </div>

        <div class="slide">
            <pre style="font-size: 50px; line-height: 70px;"><code>#earthquakes {
    marker-width: 3;

    [mag &gt; 5.5],
    [locationsource = 'pr'] {
        marker-width: 8;
    }
}</code></pre>
        </div>

        <div class="slide" style="background-image: url(img/cartocss-conditions-or.png);">
        </div>

        <div class="slide">
            <h2>combine conditions <em>without</em> a <em>,</em> to set properties with <em>both</em> conditions</h2>
        </div>

        <div class="slide">
            <pre style="font-size: 50px; line-height: 70px;"><code>#earthquakes {
    marker-width: 3;

    [mag &gt; 5.5][locationsource = 'pr'] {
        marker-width: 8;
    }
}</code></pre>
        </div>

        <div class="slide">
            <pre style="font-size: 50px; line-height: 70px;"><code>#earthquakes {
    marker-width: 3;

    [mag &gt; 5.5][locationsource = 'pr'] {
        marker-width: 8;
    }
}</code></pre>
            <p>make markers where mag is greater than 5.5 <em>and</em> locationsource = "pr" larger</p>
        </div>

        <div class="slide" style="background-image: url(img/cartocss-conditions-and.png);">
        </div>

        <div class="slide">
            <h2>recap</h2>
        </div>

        <div class="slide">
            <h2>conditional statements look like</h2>
            <pre><code>[mag &gt;= 5.5] {

}</code></pre>
        </div>

        <div class="slide">
            <h2>restrict statements more by putting conditions next to each other</h2>
        </div>

        <div class="slide">
            <pre><code>[mag &gt;= 5.5][mag &lt; 7] {

}</code></pre>
            <p><em>both</em> conditions must be true</p>
        </div>

        <div class="slide">
            <h2>include more features by separating conditions with <em>,</em></h2>
        </div>

        <div class="slide">
            <pre><code>[mag &gt;= 5.5],
[zoom &gt;= 10] {

}</code></pre>
            <p><em>either</em> condition could be true</p>
        </div>

        <div class="slide">
            <h2>you can use as many of these as you need to</h2>
        </div>

        <div class="slide">
            <pre style="font-size: 50px; line-height: 60px;"><code>#earthquakes {
    [mag &gt;= 7] {

    }
    [zoom &gt;= 11] {

    }
    [zoom &gt;= 12] {

    }
}</code></pre>
        </div>

        <div class="slide">
            <h2>you can split them up more if you prefer</h2>
        </div>

        <div class="slide">
            <pre style="font-size: 50px; line-height: 60px;"><code>#earthquakes[mag &gt;= 7] {

}
#earthquakes[zoom &gt;= 11] {

}
#earthquakes[zoom &gt;= 12] {

}</code></pre>
        </div>

        <div class="slide intermission"></div>

        <div class="slide">
            <pre style="font-size: 40px; line-height: 50px;"><code>#earthquakes {
    marker-width: 5;
    marker-fill: #ff307a;
    marker-allow-overlap: true;

    [zoom &gt;= 4] {
        marker-width: 10;
    }
    [zoom &gt;= 8] {
        marker-width: 15;
    }
    [zoom &gt;= 12] {
        marker-width: 20;
    }
}</code></pre>
        </div>

        <div class="slide">
            <h2>what if I want to change marker-width?</h2>
        </div>

        <div class="slide">
            <pre style="font-size: 40px; line-height: 50px;"><code>#earthquakes {
    marker-width: 6;
    marker-fill: #ff307a;
    marker-allow-overlap: true;

    [zoom &gt;= 4] {
        marker-width: 12;
    }
    [zoom &gt;= 8] {
        marker-width: 18;
    }
    [zoom &gt;= 12] {
        marker-width: 24;
    }
}</code></pre>
        </div>

        <div class="slide">
            <h2>there's a better way!</h2>
        </div>

        <div class="slide">
            <h2>variables</h2>
        </div>

        <div class="slide">
            <pre style="font-size: 40px; line-height: 50px;"><code><em>@width: 6;</em>
#earthquakes {
    marker-width: <em>@width</em>;
    marker-fill: #ff307a;
    marker-allow-overlap: true;

    [zoom &gt;= 4] {
        marker-width: 12;
    }
    [zoom &gt;= 8] {
        marker-width: 18;
    }
    [zoom &gt;= 12] {
        marker-width: 24;
    }
}</code></pre>
        </div>

        <div class="slide">
            <pre style="font-size: 40px; line-height: 50px;"><code><em>@width: 6;</em>
#earthquakes {
    marker-width: <em>@width</em>;
    marker-fill: #ff307a;
    marker-allow-overlap: true;

    [zoom &gt;= 4] {
        marker-width: <em>@width * 2</em>;
    }
    [zoom &gt;= 8] {
        marker-width: <em>@width * 3</em>;
    }
    [zoom &gt;= 12] {
        marker-width: <em>@width * 4</em>;
    }
}</code></pre>
        </div>

        <div class="slide">
            <h2>then I can change all the widths at once</h2>
        </div>

        <div class="slide">
            <pre style="font-size: 40px; line-height: 50px;"><code><em>@width: 8;</em>
#earthquakes {
    marker-width: @width;
    marker-fill: #ff307a;
    marker-allow-overlap: true;

    [zoom &gt;= 4] {
        marker-width: @width * 2;
    }
    [zoom &gt;= 8] {
        marker-width: @width * 3;
    }
    [zoom &gt;= 12] {
        marker-width: @width * 4;
    }
}</code></pre>
        </div>

        <div class="slide">
            <h2>it works with colors, too</h2>
        </div>

        <div class="slide">
            <pre><code><em>@earthquakecolor: #ff307a;</em>
#earthquakes {
    marker-width: @width;
    marker-fill: <em>@earthquakecolor</em>;
    marker-line-color: <em>@earthquakecolor</em>;
    marker-line-opacity: 0.2;
    marker-allow-overlap: true;
}</code></pre>
        </div>

        <div class="slide" style="font-size: 60px; line-height: 65px;">
            <pre><code><em>@earthquakecolor: #ff307a;</em>
#earthquakes {
    marker-width: @width;
    marker-fill: <em>fadeout(@earthquakecolor, 25%)</em>;
    marker-line-color: <em>@earthquakecolor</em>;
    marker-line-opacity: 0.2;
    marker-allow-overlap: true;
}</code></pre>
        </div>

        <div class="slide intermission"></div>

        <div class="slide">
            <h2><a href="inclass.html" target="_blank">in-class exercise, part 4</a></h2>
        </div>

    </body>
</html>
